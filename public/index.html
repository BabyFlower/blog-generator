<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="傅里叶子">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="傅里叶子">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="傅里叶子">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>傅里叶子</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">傅里叶子</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/13/同源策略CORS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/13/同源策略CORS/" itemprop="url">同源策略CORS</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-13T15:26:26+08:00">
                2018-08-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="同源策略"><a href="#同源策略" class="headerlink" title="同源策略"></a>同源策略</h2><p>浏览器的同源策略：</p>
<p>浏览器只有在协议+端口+域名一模一样才允许发送AJAX，读取Cookie，LocalStorage，IndexDB以及获得DOM。</p>
<p><a href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html" target="_blank" rel="noopener">阮一峰的浏览器同源政策及其规避方法</a></p>
<h2 id="CORS-Cross-origin-resource-sharing"><a href="#CORS-Cross-origin-resource-sharing" class="headerlink" title="CORS(Cross-origin resource sharing)"></a>CORS(Cross-origin resource sharing)</h2><p>这篇博客主要针对于ajax的只能同源使用的限制，利用CORS跨域资源请求，来进行不同源的ajax请求。</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http://www.example.com/dir/page.html</span></span><br><span class="line"><span class="attribute">http://www.example.com/dir2/other.html：同源</span></span><br><span class="line"><span class="attribute">http://example.com/dir/other.html：不同源（域名不同）</span></span><br><span class="line"><span class="attribute">http://v2.www.example.com/dir/other.html：不同源（域名不同）</span></span><br><span class="line"><span class="attribute">http://www.example.com:81/dir/other.html：不同源（端口不同）</span></span><br></pre></td></tr></table></figure>
<h3 id="流程情况（简单请求）"><a href="#流程情况（简单请求）" class="headerlink" title="流程情况（简单请求）"></a>流程情况（简单请求）</h3><p>当一个网源A向不同源的网源B发起ajax请求时：</p>
<ul>
<li><p>浏览器会自动在请求头中，加入Origin字段，信息为网源A的地址（协议+域名+端口）</p>
</li>
<li><p>当服务器接收到请求之后，获取Origin字段信息，检查是否在许可范围内</p>
</li>
<li><p>若满足许可，则响应头中，加入如下字段</p>
</li>
</ul>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Access-Control-Allow-Origin</span>: http://api.bob.com（！必须）</span><br><span class="line"><span class="attribute">Access-Control-Allow-Credentials</span>: true  （可选）</span><br><span class="line"><span class="attribute">Access-Control-Expose-Headers</span>: FooBar   （可选）</span><br></pre></td></tr></table></figure>
<ul>
<li><p>浏览器接收到请求之后，自动解析响应头中的Access-Control-信息，若包含A网源，则自动完成ajax请求</p>
</li>
<li><p>若浏览器没有接收到Access-Control-信息或者不包含A网源，则抛出异常，可被XMLHttpRequest的onerror回调函数捕获（！！注意，这种错误无法通过状态码识别，因为HTTP回应的状态码有可能是200。）</p>
</li>
</ul>
<p>当在实际情况中，ajax的CORS实现主要是在服务器端，响应头需要添加包含Access-Control-信息的字段。</p>
<p>上述的流程只是针对简单的CORS请求，非简单请求请参考 <a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">阮一峰的跨域资源共享 CORS 详解</a></p>
<h3 id="JSONP对比"><a href="#JSONP对比" class="headerlink" title="JSONP对比"></a>JSONP对比</h3><p>简单来说： JSONP只支持GET, 而CORS支持所有类型的请求。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/10/ajxa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/10/ajxa/" itemprop="url">ajxa</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-10T15:17:22+08:00">
                2018-08-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="谁能发送请求"><a href="#谁能发送请求" class="headerlink" title="谁能发送请求"></a>谁能发送请求</h2><ol>
<li><p>用 form 可以发请求，但是会刷新页面或新开页面<br></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">"/xxx"</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line"> &lt;input type=<span class="string">"password"</span> name=<span class="string">"password"</span>&gt;</span><br><span class="line">  &lt;input type=<span class="string">"submit"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/form&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>用 a 可以发 get 请求，但是也会刷新页面或新开页面<br></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"/xxx"</span>&gt;lala&lt;<span class="regexp">/a&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>用 img 可以发 get 请求，但是只能以图片的形式展示<br></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"/xxx"</span> alt=<span class="string">"图片"</span>&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>用 link 可以发 get 请求，但是只能以 CSS、favicon 的形式展示<br></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> link = <span class="built_in">document</span>.createElement(<span class="string">"link"</span>);</span><br><span class="line">link.rel = <span class="string">"stylesheet"</span>;</span><br><span class="line">link.href = <span class="string">'/xxx'</span>;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(link); <span class="comment">//执行这句时，才会发起请求</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>用 script 可以发 get 请求，但是只能以脚本的形式运行<br><br>这就是早期的跨域策略思想–jsonp，需要后端返回js执行回调函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line"><span class="keyword">let</span> functionName = <span class="string">'frank'</span>+<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.randow()*<span class="number">100000</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">window</span>[functionName] =  <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(result===<span class="string">'success'</span>)&#123;</span><br><span class="line">    alert(<span class="string">'success'</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      alert(<span class="string">'fail'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;        <span class="comment">//添加全局的回调函数</span></span><br><span class="line">script.src = <span class="string">'http://127.0.0.1:8080/pay?callback='</span>+functionName;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">script.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  e.currentTarget.remove(); <span class="comment">//当script加载成功时，把标签移除</span></span><br><span class="line">  <span class="keyword">delete</span> <span class="built_in">window</span>[functionName] <span class="comment">//移除全局的回调函数</span></span><br><span class="line">&#125;</span><br><span class="line">script.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  e.currentTarget.remove(); <span class="comment">//当script加载失败时，把标签移除</span></span><br><span class="line">  <span class="keyword">delete</span> <span class="built_in">window</span>[functionName] <span class="comment">//移除全局的回调函数      </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="ajax的出现"><a href="#ajax的出现" class="headerlink" title="ajax的出现"></a>ajax的出现</h2><p><strong>解决的问题:</strong></p>
<ul>
<li><p>get、post、put、delete,可选择的请求类型</p>
</li>
<li><p>只接受数据，不附带刷新页面或者新开页面的限制</p>
</li>
</ul>
<p><strong>演变的过程：</strong></p>
<ul>
<li><p>IE 5 在JS中引入对象ActiveX, 令JS可以直接发起HTTP请求</p>
</li>
<li><p>其他浏览器引入XMLHttpRequest，并被纳入 W3C 规范</p>
</li>
<li><p>Jesse James Garrett 基于XMLHttpRequest发明ajax</p>
</li>
</ul>
<h2 id="ajax简介"><a href="#ajax简介" class="headerlink" title="ajax简介"></a>ajax简介</h2><p>AJAX (Async Javascript and XML，异步的js和xml)，简单来说，一开始的设计是：</p>
<ol>
<li><p>使用 XMLHttpRequest 发请求</p>
</li>
<li><p>服务器返回 XML 格式的字符串</p>
</li>
<li><p>JS 解析 XML，并更新局部页面</p>
</li>
</ol>
<p>后面随着json的诞生，普遍使用json格式传输数据，从而代替了XML格式。</p>
<h2 id="XMLHttpRequest实现简单的ajax"><a href="#XMLHttpRequest实现简单的ajax" class="headerlink" title="XMLHttpRequest实现简单的ajax"></a>XMLHttpRequest实现简单的ajax</h2><h3 id="给出node-js写的简单server后端"><a href="#给出node-js写的简单server后端" class="headerlink" title="给出node.js写的简单server后端"></a>给出node.js写的简单server后端</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>)</span><br><span class="line"><span class="keyword">var</span> port = process.argv[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!port)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'请指定端口号好不啦？\nnode server.js 8888 这样不会吗？'</span>)</span><br><span class="line">  process.exit(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> parsedUrl = url.parse(request.url, <span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">var</span> path = request.url </span><br><span class="line">  <span class="keyword">var</span> pathNoQuery = parsedUrl.pathname</span><br><span class="line">  <span class="keyword">var</span> queryObject = parsedUrl.query</span><br><span class="line">  <span class="keyword">var</span> method = request.method</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/******** 从这里开始看，上面不要看 ************/</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'HTTP 路径为\n'</span> + path)</span><br><span class="line">  <span class="keyword">if</span>(path == <span class="string">'/pay'</span>)&#123;</span><br><span class="line">    response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/json'</span>)</span><br><span class="line">    response.statusCode = <span class="number">200</span> </span><br><span class="line">    response.write(<span class="string">`</span></span><br><span class="line"><span class="string">       &#123;</span></span><br><span class="line"><span class="string">           “张”:&#123;</span></span><br><span class="line"><span class="string">               “性别”：“男”，</span></span><br><span class="line"><span class="string">               “年龄”：24</span></span><br><span class="line"><span class="string">           &#125;</span></span><br><span class="line"><span class="string">       &#125;</span></span><br><span class="line"><span class="string">    `</span>)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    response.statusCode = <span class="number">404</span></span><br><span class="line">    response.end()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/******** 代码结束，下面不要看 ************/</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(port)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'监听 '</span> + port + <span class="string">' 成功\n请用在空中转体720度然后用电饭煲打开 http://localhost:'</span> + port)</span><br></pre></td></tr></table></figure>
<p>当请求路径是/pay时，返回一串符合json格式的字符串。</p>
<h3 id="前端ajax实现"><a href="#前端ajax实现" class="headerlink" title="前端ajax实现"></a>前端ajax实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">button.addEventListener(<span class="string">'click'</span>,(e)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    request.open(<span class="string">'GET'</span>,<span class="string">'/pay'</span>); <span class="comment">//默认就是异步执行（请求类型，请求路径）</span></span><br><span class="line">    request.send();<span class="comment">//正式发送请求</span></span><br><span class="line">    request.onreadystatechange = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(request.readystate === <span class="number">4</span>)&#123; <span class="comment">//说明请求已经完成</span></span><br><span class="line">            <span class="keyword">if</span>(request.status === <span class="number">200</span>)&#123; <span class="comment">//说明请求返回，是成功的</span></span><br><span class="line">                <span class="keyword">let</span> object = <span class="built_in">JSON</span>.parse(request.responseText); </span><br><span class="line">                <span class="built_in">console</span>.log(object[<span class="string">"张"</span>][”性别“])；</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="comment">//如果请求的状态发生改变，则会执行当前函数，请求状态为0,1,2,3,4</span></span><br><span class="line">&#125;）</span><br></pre></td></tr></table></figure>
<p>如果是XML格式的话，使用下面代码进行解析：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> parser = <span class="keyword">new</span> DOMParser();</span><br><span class="line"><span class="keyword">let</span> XMLDoc = parser.parserFromString(request.responseText,<span class="string">"text/xml"</span>);</span><br><span class="line">XMLDoc.getElementsByTagName(<span class="string">"content"</span>)[<span class="number">0</span>].textContent;</span><br></pre></td></tr></table></figure></p>
<h3 id="通过XMLHttpRequest，完善http的请求与响应"><a href="#通过XMLHttpRequest，完善http的请求与响应" class="headerlink" title="通过XMLHttpRequest，完善http的请求与响应"></a>通过XMLHttpRequest，完善http的请求与响应</h3><h4 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/xxx</span> HTTP/1.1</span><br><span class="line"><span class="attribute">HOST</span>: https://jack.com:8081</span><br><span class="line"><span class="attribute">Content-type</span>: x-www-form-urlencoded</span><br><span class="line"></span><br><span class="line">我是第四部分</span><br></pre></td></tr></table></figure>
<p>上面是一般http请求的组成结构，下面我们通过设置XMLHttpRequeset进行相应部分的设置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> request = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">request.open(<span class="string">'GET'</span>,<span class="string">'https://jack.com:8081/xxx'</span>);</span><br><span class="line">request.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"x-www-form-urlencoded"</span>);<span class="comment">//header设置必须在open与send函数之间</span></span><br><span class="line">request.send(<span class="string">"我是第四部分"</span>)</span><br></pre></td></tr></table></figure>
<p>响应</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-type</span>: text/html</span><br><span class="line"></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>上面是http响应的一般组成结构，下面我们通过XMLHttpRequest进行相应部分的获取。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> status = request.status; <span class="comment">//200</span></span><br><span class="line"><span class="keyword">let</span> statusText = request.statusText; <span class="comment">//OK</span></span><br><span class="line"><span class="keyword">let</span> content = request.getResponseHeader(<span class="string">"Content-type"</span>); <span class="comment">//text/html</span></span><br><span class="line"><span class="keyword">let</span> allheader = request.getAllResponseHeaders();<span class="comment">//获取全部的header </span></span><br><span class="line"><span class="keyword">let</span> Text = request.responseText; <span class="comment">//第四部分</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/02/Flex实战/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/02/Flex实战/" itemprop="url">Flex实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-02T21:36:54+08:00">
                2018-08-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前写过Flex布局的相关属性介绍，但是都是文字表面，在实际运用中的flex布局的思路并没有。在一次面试中，遇到了实际问题，然后今天记录一下flex布局的思路。</p>
<h2 id="如何用上flex"><a href="#如何用上flex" class="headerlink" title="如何用上flex"></a>如何用上flex</h2><p><strong>flex的重要概念：</strong> container 和 items <br><br>把所有需要布局的东西放在一个容器里面（可以想象成一块桌布container上摆着一些东西items）。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>1111111<span class="tag">&lt;<span class="name">br</span>&gt;</span>1111111<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  1111111<span class="tag">&lt;<span class="name">br</span>&gt;</span>1111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span> &gt;</span>2222<span class="tag">&lt;<span class="name">br</span>&gt;</span>2222<span class="tag">&lt;<span class="name">br</span>&gt;</span>2222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>33<span class="tag">&lt;<span class="name">br</span>&gt;</span>33<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>44<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>55<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>66<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这里的parent块就是包含若干个child块的一个container。<br><br>接下来就是这些个child如何布局的问题了。<br><br><strong>默认：</strong> 桌布（container）的宽度默认情况是视图宽度，如果有样式width：100px，那么就是100px宽了～</p>
<h2 id="关于container的布局"><a href="#关于container的布局" class="headerlink" title="关于container的布局"></a>关于container的布局</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:flex; </span><br><span class="line">    <span class="comment">/* 在container上说明要使用flex布局 */</span></span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="comment">/* 默认主轴方向就是行 */</span></span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap; </span><br><span class="line">    <span class="comment">/* 默认情况是nowrap不换行的，当桌布 */</span></span><br><span class="line">    <span class="comment">/* 不够大时（项目的宽度之和大于容器的宽度），不换行的情况下， */</span></span><br><span class="line">    <span class="comment">/* 会压缩各个项目的宽度 */</span></span><br><span class="line">    <span class="comment">/* flex-flow是flex-direction以及flex-wrap的简写 */</span></span><br><span class="line">    <span class="attribute">justify-content</span>: center; </span><br><span class="line">    <span class="comment">/* 在主轴方向上，让桌布上的物品都居中摆放 */</span></span><br><span class="line">    <span class="attribute">align-items</span>:center;</span><br><span class="line">    <span class="comment">/* 在侧轴方向上，物品居中摆放 */</span></span><br><span class="line">    <span class="comment">/* 这边说明一下items的高度问题，在桌布上摆放的物品， */</span></span><br><span class="line">    <span class="comment">/* 他们的对齐方式都是基于各个物品的高度，而这个高度不等 */</span></span><br><span class="line">    <span class="comment">/* 同于他们的内容，例如height：100px */</span></span><br><span class="line">    <span class="attribute">align-content</span>:space-between;</span><br><span class="line">    <span class="comment">/* 用于多列或者多行情况的摆放方式 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一般情况，桌布大小需要包含所有的物品，这样container的这些属性，只是用于控制物品之间的空隙，不会去改变物品自身的大小。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">*&#123;<span class="attribute">margin</span>:<span class="number">0px</span>;<span class="attribute">padding</span>:<span class="number">0px</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>:flex;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/flexContainer.png" alt=""></p>
<h2 id="关于items的布局"><a href="#关于items的布局" class="headerlink" title="关于items的布局"></a>关于items的布局</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">    <span class="attribute">flex-grow</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* 如果桌布比较大，空出来很多空间， */</span></span><br><span class="line">    <span class="comment">/* 物品自身的大小可以通过flex-grow得到相应比例的多余空间 */</span></span><br><span class="line">    <span class="attribute">flex-shrink</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* 桌布不够时，物品收缩的比例 */</span></span><br><span class="line">    <span class="attribute">flex-basis</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="comment">/* 不论物品多大，都只给桌布上100px的大小 */</span></span><br><span class="line">    <span class="comment">/* flex是上面三个的简写 */</span></span><br><span class="line">    <span class="attribute">order</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* 用于改变当前项目的顺序 */</span></span><br><span class="line">    <span class="attribute">align-self</span>:center;</span><br><span class="line">    <span class="comment">/* 等同于container的align-items的效果，不过只用于当前项自身 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关于items的属性，除了order是改变显示的顺序，align-self改变对齐方式外，其余属性是为了分配多余的桌布空间，从而改变自身的大小。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">*&#123;<span class="attribute">margin</span>:<span class="number">0px</span>;<span class="attribute">padding</span>:<span class="number">0px</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>:flex;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">order</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span><span class="selector-pseudo">:nth-child(1)</span>&#123;</span><br><span class="line">  <span class="attribute">order</span>:<span class="number">2</span>;</span><br><span class="line">  <span class="attribute">flex-grow</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span><span class="selector-pseudo">:nth-child(3)</span>&#123;</span><br><span class="line">  <span class="attribute">align-self</span>: flex-start;</span><br></pre></td></tr></table></figure>
<p><img src="/images/flexItems.png" alt=""></p>
<h2 id="一些特殊技巧"><a href="#一些特殊技巧" class="headerlink" title="一些特殊技巧"></a>一些特殊技巧</h2><h3 id="1-margin-的妙用"><a href="#1-margin-的妙用" class="headerlink" title="1. margin 的妙用"></a>1. margin 的妙用</h3><p><img src="/images/flex-1.png" alt=""></p>
<p>变化成如下情况:</p>
<p><img src="/images/flex-1-left.png" alt=""></p>
<p>代码如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:flex-end;</span><br><span class="line">    <span class="attribute">align-items</span>:flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span><span class="selector-pseudo">:nth-child(2)</span>&#123;</span><br><span class="line">      <span class="attribute">align-self</span>:center;</span><br><span class="line">      <span class="attribute">margin-right</span>:auto;</span><br><span class="line">      <span class="comment">/* 只用加上margin-right就能使得第二个块移到最左边   */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/19/jsonp简介/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/19/jsonp简介/" itemprop="url">jsonp简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-19T11:54:49+08:00">
                2018-05-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="what-is-JSONP"><a href="#what-is-JSONP" class="headerlink" title="what is JSONP"></a>what is JSONP</h1><p>JSONP（JSON with Padding）是数据格式JSON的一种“使用模式”，可以让网页从别的网域要数据。<br>利用script元素的这个开放策略，网页可以得到从其他来源动态产生的JSON数据，而这种使用模式就是所谓的JSONP。用JSONP抓到的数据并不是JSON，而是任意的JavaScript，用JavaScript解释器运行而不是用JSON解析器解析。</p>
<p>简单来说：JSONP利用动态的创建script标签，来获取其他网站的数据。由于script标签获取的方式是GET，所以JSONP只能支持GET。</p>
<h2 id="响应服务器端实现（node-js）"><a href="#响应服务器端实现（node-js）" class="headerlink" title="响应服务器端实现（node.js）"></a>响应服务器端实现（node.js）</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>)</span><br><span class="line"><span class="keyword">var</span> port = process.argv[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!port)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'请指定端口号好不啦？\nnode server.js 8888 这样不会吗？'</span>)</span><br><span class="line">  process.exit(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> parsedUrl = url.parse(request.url, <span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">var</span> path = request.url </span><br><span class="line">  <span class="keyword">var</span> query = <span class="string">''</span></span><br><span class="line">  <span class="keyword">if</span>(path.indexOf(<span class="string">'?'</span>) &gt;= <span class="number">0</span>)&#123; query = path.substring(path.indexOf(<span class="string">'?'</span>)) &#125;</span><br><span class="line">  <span class="keyword">var</span> pathNoQuery = parsedUrl.pathname</span><br><span class="line">  <span class="keyword">var</span> queryObject = parsedUrl.query</span><br><span class="line">  <span class="keyword">var</span> method = request.method</span><br><span class="line"> </span><br><span class="line"> <span class="comment">/******** 从这里开始看，上面不要看 ************/</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'HTTP 路径为\n'</span> + path)</span><br><span class="line">  <span class="keyword">if</span>(path == <span class="string">'/style.css'</span>)&#123;</span><br><span class="line">    response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/css; charset=utf-8'</span>)</span><br><span class="line">    response.write(<span class="string">'body&#123;background-color: #ddd;&#125;h1&#123;color: red;&#125;'</span>)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(path == <span class="string">'/main.js'</span>)&#123;</span><br><span class="line">    response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/javascript; charset=utf-8'</span>)</span><br><span class="line">    response.write(<span class="string">'alert("这是JS执行的")'</span>)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(path == <span class="string">'/pay'</span>)&#123;</span><br><span class="line">    response.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/javascript'</span>)</span><br><span class="line">    response.statusCode = <span class="number">200</span> </span><br><span class="line">    response.write(<span class="string">`<span class="subst">$&#123;query.callback&#125;</span>.call(undefined,'success')`</span>)</span><br><span class="line">    response.end()</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    response.statusCode = <span class="number">404</span></span><br><span class="line">    response.end()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/******** 代码结束，下面不要看 ************/</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(port)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'监听 '</span> + port + <span class="string">' 成功\n请用在空中转体720度然后用电饭煲打开 http://localhost:'</span> + port)</span><br></pre></td></tr></table></figure>
<p>主要部分在/pay，定义httpHeader，Content-Type : application/javascript。<br>http的内容部分为js的回调函数，函数名存于callback，如果需要返回数据，则添加到函数参数中。<br>当浏览器接收到返回数据，则会执行该js语句。</p>
<h2 id="网页实现"><a href="#网页实现" class="headerlink" title="网页实现"></a>网页实现</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">button.addEventListener(<span class="string">'click'</span>,(e)=&gt;&#123;</span><br><span class="line">  <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">  <span class="keyword">let</span> functionName = <span class="string">'frank'</span>+<span class="built_in">parseInt</span>(<span class="built_in">Math</span>.randow()*<span class="number">100000</span>,<span class="number">10</span>)</span><br><span class="line">  <span class="built_in">window</span>[functionName] =  <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(result===<span class="string">'success'</span>)&#123;</span><br><span class="line">      alert(<span class="string">'success'</span>)</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        alert(<span class="string">'fail'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;        <span class="comment">//添加全局的回调函数</span></span><br><span class="line">  script.src = <span class="string">'http://127.0.0.1:8080/pay?callback='</span>+functionName;</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(script);</span><br><span class="line">  script.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e.currentTarget.remove(); <span class="comment">//当script加载成功时，把标签移除</span></span><br><span class="line">    <span class="keyword">delete</span> <span class="built_in">window</span>[functionName] <span class="comment">//移除全局的回调函数</span></span><br><span class="line">  &#125;</span><br><span class="line">  script.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e.currentTarget.remove(); <span class="comment">//当script加载成功时，把标签移除</span></span><br><span class="line">    <span class="keyword">delete</span> <span class="built_in">window</span>[functionName] <span class="comment">//移除全局的回调函数      </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>主要是构造一个全局的回调函数。在script加载之后，执行回调。</p>
<h3 id="用jQuery实现"><a href="#用jQuery实现" class="headerlink" title="用jQuery实现"></a>用jQuery实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">  url : <span class="string">'http://127.0.0.1:8080/pay'</span>,</span><br><span class="line">  dataType : <span class="string">"jsonp"</span>,</span><br><span class="line">  success :  <span class="function"><span class="keyword">function</span>(<span class="params">response</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(response === <span class="string">"success"</span>)&#123;</span><br><span class="line">      alert(<span class="string">'success'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/26/Flex-弹性布局/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/26/Flex-弹性布局/" itemprop="url">Flex-弹性布局</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-26T22:35:59+08:00">
                2018-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>1. flex布局与方向无关</strong><br><strong>2. 空间自动分配，自动对齐</strong><br><strong>3. 适用于简单的线性布局，更复杂的布局交给grid布局</strong></p>
<p><img src="/images/flexbox.png" alt=""></p>
<h2 id="flex-container-弹性容器"><a href="#flex-container-弹性容器" class="headerlink" title="flex container(弹性容器)"></a>flex container(弹性容器)</h2><p><em>包含弹性项目的父元素，通过设置display 属性的值为 flex 或 inline-flex 来定义弹性容器</em></p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ul>
<li><strong>flex-direction:</strong> 确定主轴，row从左到右(默认)，row-reverse从右到左，column从上到下，column-reverse从下到上</li>
<li><strong>flex-wrap:</strong> 换行/列，nowrap(默认)，wrap</li>
<li><strong>flex-flow:</strong> 上面两个的简写</li>
<li><strong>justify-content:</strong> 主轴对齐方式，space-between，space-around,flex-start(往起点靠),flex-end(终点)，center</li>
<li><strong>align-items:</strong> 测轴对齐方式，stretch(伸展为最高元素一样)，flex-start，flex-end,center</li>
<li><strong>align-content:</strong> 多行/列内容对齐方式，baseline(文字对齐)，stretch(默认，平均分布)，space-between,space-around,flex-start,flex-end</li>
</ul>
<h2 id="flex-item"><a href="#flex-item" class="headerlink" title="flex-item"></a>flex-item</h2><p><em>弹性容器的每个子元素都称为弹性项目。弹性容器直接包含的文本将被包覆成匿名弹性单元</em></p>
<h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><ul>
<li><strong>flex-grow:</strong> 增长比例，分配多余空间(默认为0，不放大)</li>
<li><strong>flex-shrink:</strong> 收缩比例，默认为1，设置为0时，不参与收缩</li>
<li><strong>flex-basis:</strong> 默认大小auto，默认的宽度由内容决定</li>
<li><strong>flex:</strong> 上面三个的缩写，auto(1 1 auto),none(0 0 auto)</li>
<li><strong>order:</strong> 排列顺序</li>
<li><strong>align-self:</strong> 自身对齐方式(高度不能写死)，flex-end，center，flex-start</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/26/类jQuery方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/26/类jQuery方法/" itemprop="url">类jQuery方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-26T22:07:22+08:00">
                2018-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.jQuery = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> elements = <span class="built_in">document</span>.getElementsByTagName(node);</span><br><span class="line">    <span class="keyword">let</span> elementSet = &#123;</span><br><span class="line">        node : elements</span><br><span class="line">    &#125;</span><br><span class="line">    elementSet.addClass  =  <span class="function"><span class="keyword">function</span>(<span class="params">classes</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i &lt; elements.length;i++)&#123;</span><br><span class="line">            elements[i].classList.add(classes);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    elementSet.textSet = <span class="function"><span class="keyword">function</span>(<span class="params">text</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i =<span class="number">0</span>; i &lt; elements.length;i++)&#123;</span><br><span class="line">            elements[i].textContent = text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> elementSet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.$ = jQuery</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> $div = $(<span class="string">'div'</span>)</span><br><span class="line">$div.addClass(<span class="string">'red'</span>) <span class="comment">// 可将所有 div 的 class 添加一个 red</span></span><br><span class="line">$div.setText(<span class="string">'hi'</span>) <span class="comment">// 可将所有 div 的 textContent 变为 hi</span></span><br></pre></td></tr></table></figure>
<ol>
<li>定义一个构造函数jQuery，并返回具有各种属性和方法的对象。</li>
<li>通过调用jQuery，能够实例化对象，执行相关的方法。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/23/CSS积累-0-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/23/CSS积累-0-1/" itemprop="url">CSS积累_0.1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-23T13:46:16+08:00">
                2018-04-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="CSS简介"><a href="#CSS简介" class="headerlink" title="CSS简介"></a>CSS简介</h2><p>Cascading Style Sheets (CSS) is a stylesheet language used to describe the presentation of a document written in HTML or XML (including XML dialects such as SVG or XHTML). CSS describes how elements should be rendered on screen, on paper, in speech, or on other media. </p>
<h3 id="导入CSS"><a href="#导入CSS" class="headerlink" title="导入CSS"></a>导入CSS</h3><ul>
<li>style 标签</li>
<li>style 属性</li>
<li>@import url(./a.css)</li>
</ul>
<h3 id="横向排列"><a href="#横向排列" class="headerlink" title="横向排列"></a>横向排列</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">float</span><span class="selector-pseudo">:left</span>;  <span class="comment">/*子元素添加float属性*/</span></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">""</span>;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">    <span class="attribute">clear</span>:both;</span><br><span class="line">&#125;  <span class="comment">/*父元素添加clearfix类，用于清除浮动*/</span></span><br></pre></td></tr></table></figure>
<p><strong>清除浮动:</strong> 当父级元素内的子元素浮动时，可能会导致父级元素的高度塌陷，即父级元素包不住子元素。清除浮动使父元素的高度始终由子元素的高度决定，避免塌陷现象。</p>
<h3 id="去除原有样式"><a href="#去除原有样式" class="headerlink" title="去除原有样式"></a>去除原有样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">text-decoration</span><span class="selector-pseudo">:none</span>;<span class="comment">/*去除下划线*/</span></span><br><span class="line"><span class="selector-tag">list-style</span><span class="selector-pseudo">:none</span>;<span class="comment">/*去除li标签的点样式*/</span></span><br></pre></td></tr></table></figure>
<h3 id="li-gt-a-高度不一致"><a href="#li-gt-a-高度不一致" class="headerlink" title="li&gt;a 高度不一致"></a>li&gt;a 高度不一致</h3><blockquote>
<pre><code>li&gt;a{display:block}
</code></pre></blockquote>
<p><img src="/images/liaWoutDisBlock.png" alt="默认"><br><img src="/images/liaWithDisBlock.png" alt="display:block"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/20/BFC简介/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/20/BFC简介/" itemprop="url">BFC简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-20T15:28:21+08:00">
                2018-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="BFC-block-formatting-context-块格式化上下文"><a href="#BFC-block-formatting-context-块格式化上下文" class="headerlink" title="BFC(block formatting context,块格式化上下文)"></a>BFC(block formatting context,块格式化上下文)</h2><p><em>针对div，1.它没有定义，2.它只有特性/功能</em></p>
<h3 id="功能1-爸爸管儿子-不叫清除浮动"><a href="#功能1-爸爸管儿子-不叫清除浮动" class="headerlink" title="功能1:爸爸管儿子(不叫清除浮动)"></a>功能1:爸爸管儿子(不叫清除浮动)</h3><blockquote>
<pre><code>display:inline block inline-block(非块盒的块容器)
</code></pre><p>浮动，绝对定位元素，非块盒的块容器，overflow不为visible<br>    display:table-cell/table-caption display:flow-root,则该元素为BFC<br>不管内容如何，BFC总会包住儿子，也可用border边框实现。<br>    display:flow-root 让当前元素触发BFC</p>
</blockquote>
<h3 id="功能2"><a href="#功能2" class="headerlink" title="功能2"></a>功能2</h3><p>在竖直方向上，同一BFC中，两个块级元素的margin会合并(取最大)</p>
<h3 id="功能3-爸爸管儿子，儿子管孙子，则爸爸不管儿子"><a href="#功能3-爸爸管儿子，儿子管孙子，则爸爸不管儿子" class="headerlink" title="功能3:爸爸管儿子，儿子管孙子，则爸爸不管儿子"></a>功能3:爸爸管儿子，儿子管孙子，则爸爸不管儿子</h3><p>在一个BFC中的内容，被另一个BFC包括，则不管该该部分内容</p>
<h3 id="功能4-BFC包住内容，可不发生重叠"><a href="#功能4-BFC包住内容，可不发生重叠" class="headerlink" title="功能4:BFC包住内容，可不发生重叠"></a>功能4:BFC包住内容，可不发生重叠</h3><p>让两个相邻的元素，界限分明 </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/20/编码简介/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/20/编码简介/" itemprop="url">编码简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-20T15:26:12+08:00">
                2018-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="编码方式历史"><a href="#编码方式历史" class="headerlink" title="编码方式历史"></a>编码方式历史</h2><p><img src="/images/charset.png" alt=""><br>中文 GB2312 , 微软 GBK 兼容了 GB2312<br>Unicode字符集（全球字符编码）<br>UTF-8是Unicode一种高性价比的编码方式</p>
<p>a -&gt; 01100001 英文只占一个字节<br>你 -&gt; 11100100 10111101 1010000 三个字节（如果存两个字节，不能被系统辨别为2个字符还是1个）</p>
<p>第一个字节的111表示读取三个字节，其余的0100 10111101 1010000组成–&gt;你的unicode编码为00000000 00000000 01001111 01100000</p>
<h2 id="历史遗留问题"><a href="#历史遗留问题" class="headerlink" title="历史遗留问题"></a>历史遗留问题</h2><p>ES5之前，JavaScript用Unicode，而不用UTF-8，只能表示两个字节以内的字符。<br>ES6已经改善。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/20/小本本/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="傅里叶子">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/20/小本本/" itemprop="url">小本本</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-20T14:56:59+08:00">
                2018-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><em>进制转换</em>：可能导致有限小数变为无限小数。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">张</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
